<!DOCTYPE html>
<html>
  <head>
    <title>Tomás Belmar | Software Engineer</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.png" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
  </head>
  <body>
    <div class="info-container">
      <h1 class="name">TOMÁS BELMAR</h1>
      <p class="job-title">Software Developer</p>
    </div>

    <img
      class="sound-control"
      id="sound-control"
      onclick="toggleAudio()"
      src="images/mute_icon_white.png"
    />

    <audio loop id="rain-audio">
      <source src="audio/light-rain.mp3" type="audio/mp3" />
    </audio>

    <audio loop id="music-audio">
      <source id="music-source" type="audio/mp3" />
    </audio>

    <script>
      const NUM_OF_SONGS = 4;

      const rain = document.getElementById("rain-audio");
      const music = document.getElementById("music-audio");
      const musicSource = document.getElementById("music-source");
      const audioButton = document.getElementById("sound-control");

      // pick a random background song to play
      const trackNum = Math.floor(Math.random() * NUM_OF_SONGS);
      musicSource.src = `audio/ambience-music-${trackNum}.mp3`;

      rain.volume = 0.1;
      music.volume = 0.6;

      let playing = false;
      function toggleAudio() {
        if (!playing) {
          playing = true;

          rain.muted = false;
          music.muted = false;

          audioButton.src = "images/sound_icon_white.png";

          rain.play();
          music.play();
        } else {
          playing = false;
          rain.muted = true;
          music.muted = true;

          audioButton.src = "images/mute_icon_white.png";
        }
      }
    </script>

    <style>
      @font-face {
        font-family: edunline;
        src: url("fonts/edunline.ttf");
      }

      @font-face {
        font-family: o4b;
        src: url("fonts/o4b.ttf");
      }

      body {
        background-image: url("images/background.gif");
        background-position: right;
        background-size: cover;
        background-repeat: no-repeat;
        height: 100vh;
        overflow: hidden;
        top: -10%;
        padding: 5px;
        font-family: edunline;
        text-align: center;
      }

      .info-container {
        display: inline-block;
        text-align: center;
        user-select: none;
        margin-top: 10px;
      }

      .name {
        color: #d8d9ba;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000,
          5px 5px 0 #000;
        font-size: 55px;
        margin-top: 10px;
        margin-bottom: -10px;
        line-height: 55px;
        letter-spacing: 3px;
      }

      .job-title {
        display: inline-block;
        font-family: o4b;
        color: #d8d9ba;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000,
          1px 1px 0 #000;
        font-size: 20px;
        letter-spacing: 1px;
        border-style: solid;
        border-color: #351c24;
        background-color: rgb(141, 74, 60, 1);
        border-radius: 10px;
        padding: 5px 10px 3px 10px;
        box-shadow: 2px 2px #000;
      }

      .sound-control {
        display: inline-block;
        position: fixed;
        bottom: 15px;
        left: 15px;
      }
    </style>
  </body>
</html>
